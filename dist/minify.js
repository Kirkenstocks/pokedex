let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Pokémon input is not correct")}function o(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.name=t.species.name,e.number=t.id,e.imageUrl=t.sprites.front_default,e.height=t.height/10,e.weight=t.weight/10,e.types=t.types.map(function(e){return e.type.name})}).catch(function(e){console.error(e),alert("Unable to load Pokémon data.")})}function i(e){o(e).then(function(){!function(e){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerHTML="",n.innerHTML="";let o=e.name.charAt(0).toUpperCase()+e.name.slice(1),i=document.createElement("h3");i.innerText=o,i.classList.add("modal-title");let l=document.createElement("img");l.setAttribute("src",e.imageUrl),l.setAttribute("alt","A small frontal image of"+o);let a=document.createElement("p");a.innerText="Pokédex ID number: "+e.number;let r=document.createElement("span");r.innerText="Height: "+e.height+" m / ";let c=document.createElement("span");c.innerText="Weight: "+e.weight+" kg";let u=document.createElement("p");u.innerText="Type(s): "+e.types.join(" / "),t.appendChild(i),n.appendChild(l),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(u)}(e)})}return{add:n,getAll:function(){return e},showDetails:i,addListItem:function(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("list-group-item","col-md-4","col-sm-6","d-inline-flex","justify-content-center");let o=document.createElement("button");o.innerText=e.name,o.classList.add("button","btn","btn-outline-primary","btn-lg","col-10","pokemon-button"),o.setAttribute("data-target","#exampleModal"),o.setAttribute("data-toggle","modal"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",()=>{i(e)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o}}();function initialize(){pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),document.querySelector("#search-input").addEventListener("input",e=>{!function(e){document.querySelectorAll(".pokemon-button").forEach(t=>{t.textContent.toLowerCase().includes(e)?t.style.display="block":t.style.display="none"})}(e.target.value.toLowerCase())})}initialize();